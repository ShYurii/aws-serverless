2024-04-21 21:40:41,066 [INFO] USER:Yuriy.Shevchenko processor.py:143:_prepare_bucket_view LOG: Viewing complement, URIBucketView, has been found, setting up the raw data.
2024-04-21 21:40:41,759 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 21:40:41,759 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 21:40:42,390 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 21:40:42,390 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of bundle_name: task03_240421.213655
2024-04-21 21:40:42,704 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 21:40:42,704 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 21:40:43,274 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 21:40:43,275 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of deploy_name: task03
2024-04-21 21:40:43,634 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 21:40:43,634 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 21:40:44,254 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 21:40:44,703 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 21:40:44,703 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 21:40:45,277 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 21:40:45,840 [WARNING] USER:Yuriy.Shevchenko deployment_processor.py:381:update_deployment_resources LOG: Please pay attention that only the following resources types are supported for update: ['iam_role', 'iam_policy', 'lambda', 'lambda_layer', 'api_gateway_oas_v3', 'batch_jobdef', 'batch_compenv', 'eventbridge_schedule', 'dynamodb_table', 'swagger_ui']
2024-04-21 21:40:45,840 [INFO] USER:Yuriy.Shevchenko deployment_processor.py:387:update_deployment_resources LOG: Prefixes and suffixes of any resource names have been resolved.
2024-04-21 21:40:45,840 [INFO] USER:Yuriy.Shevchenko deployment_processor.py:85:_process_resources LOG: Processing iam_policy resources
2024-04-21 21:40:46,424 [WARNING] USER:Yuriy.Shevchenko iam_resource.py:315:_update_policy_from_meta LOG: cmtr-c5efef97-lambda-basic-execution policy does not exist.
2024-04-21 21:40:46,424 [ERROR] USER:Yuriy.Shevchenko deployment_processor.py:104:_process_resources LOG: Error occurred while iam_policy resource creating: cmtr-c5efef97-lambda-basic-execution policy does not exist.
Traceback (most recent call last):
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\deployment_processor.py", line 87, in _process_resources
    response = func(args)  # todo exception may be raised here
               ^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\iam_resource.py", line 233, in update_iam_policy
    return self.create_pool(self._update_policy_from_meta, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\base_resource.py", line 41, in create_pool
    result = future.result()
             ^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\helper.py", line 66, in wrapper
    return handler_func(**parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\iam_resource.py", line 316, in _update_policy_from_meta
    raise AssertionError(f'{name} policy does not exist.')
AssertionError: cmtr-c5efef97-lambda-basic-execution policy does not exist.
2024-04-21 21:40:46,741 [WARNING] USER:Yuriy.Shevchenko bundle_processor.py:57:create_deploy_output LOG: Output file for deploy task03 already exists.
2024-04-21 21:40:46,742 [INFO] USER:Yuriy.Shevchenko helper.py:336:timed LOG: Stage update, elapsed time: 0:00:01.137977
2024-04-21 21:40:47,443 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 21:40:47,443 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 21:40:48,015 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:05:19,265 [INFO] USER:Yuriy.Shevchenko processor.py:143:_prepare_bucket_view LOG: Viewing complement, URIBucketView, has been found, setting up the raw data.
2024-04-21 22:05:20,080 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:05:20,080 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:05:20,724 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:05:20,724 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of bundle_name: task03_240421.213655
2024-04-21 22:05:21,109 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:05:21,110 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:05:21,683 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:05:21,683 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of deploy_name: task03
2024-04-21 22:05:22,037 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:05:22,038 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:05:22,616 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:05:23,078 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:05:23,078 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:05:23,664 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:05:24,153 [WARNING] USER:Yuriy.Shevchenko deployment_processor.py:381:update_deployment_resources LOG: Please pay attention that only the following resources types are supported for update: ['iam_role', 'iam_policy', 'lambda', 'lambda_layer', 'api_gateway_oas_v3', 'batch_jobdef', 'batch_compenv', 'eventbridge_schedule', 'dynamodb_table', 'swagger_ui']
2024-04-21 22:05:24,153 [INFO] USER:Yuriy.Shevchenko deployment_processor.py:387:update_deployment_resources LOG: Prefixes and suffixes of any resource names have been resolved.
2024-04-21 22:05:24,154 [INFO] USER:Yuriy.Shevchenko deployment_processor.py:85:_process_resources LOG: Processing iam_policy resources
2024-04-21 22:05:24,763 [WARNING] USER:Yuriy.Shevchenko iam_resource.py:315:_update_policy_from_meta LOG: cmtr-c5efef97-lambda-basic-execution policy does not exist.
2024-04-21 22:05:24,763 [ERROR] USER:Yuriy.Shevchenko deployment_processor.py:104:_process_resources LOG: Error occurred while iam_policy resource creating: cmtr-c5efef97-lambda-basic-execution policy does not exist.
Traceback (most recent call last):
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\deployment_processor.py", line 87, in _process_resources
    response = func(args)  # todo exception may be raised here
               ^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\iam_resource.py", line 233, in update_iam_policy
    return self.create_pool(self._update_policy_from_meta, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\base_resource.py", line 41, in create_pool
    result = future.result()
             ^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\helper.py", line 66, in wrapper
    return handler_func(**parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\resources\iam_resource.py", line 316, in _update_policy_from_meta
    raise AssertionError(f'{name} policy does not exist.')
AssertionError: cmtr-c5efef97-lambda-basic-execution policy does not exist.
2024-04-21 22:05:25,084 [WARNING] USER:Yuriy.Shevchenko bundle_processor.py:57:create_deploy_output LOG: Output file for deploy task03 already exists.
2024-04-21 22:05:25,085 [INFO] USER:Yuriy.Shevchenko helper.py:336:timed LOG: Stage update, elapsed time: 0:00:01.168327
2024-04-21 22:05:25,767 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:05:25,767 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:05:26,354 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:06:01,463 [INFO] USER:Yuriy.Shevchenko processor.py:143:_prepare_bucket_view LOG: Viewing complement, URIBucketView, has been found, setting up the raw data.
2024-04-21 22:06:02,198 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:06:02,198 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:06:02,818 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:06:02,819 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of deploy_name: task03
2024-04-21 22:06:03,161 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:06:03,161 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:06:03,751 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:06:03,752 [INFO] USER:Yuriy.Shevchenko helper.py:240:resolve_default_value LOG: Resolved value of bundle_name: task03_240421.213655
2024-04-21 22:06:04,112 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:06:04,112 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:06:04,693 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:06:05,144 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:06:05,144 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:06:05,715 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
2024-04-21 22:06:06,037 [ERROR] USER:Yuriy.Shevchenko helper.py:84:wrapper LOG: An error occurred. See details in the log file
2024-04-21 22:06:06,038 [ERROR] USER:Yuriy.Shevchenko helper.py:85:wrapper LOG: Error occurred: Deployment output file not found. It might be because the previous deployment failed. If this is the case deployment can be continued by using the command  'syndicate deploy --continue_deploy' or failed deployed resources can be removed with the command 'syndicate clean --rollback'
Traceback (most recent call last):
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\bundle_processor.py", line 140, in load_latest_deploy_output
    return load_deploy_output(bundle_name, deploy_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\bundle_processor.py", line 111, in load_deploy_output
    raise AssertionError('Deploy name {0} does not exist.'
AssertionError: Deploy name task03 does not exist. Cannot find output file.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\helper.py", line 82, in wrapper
    return handler_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\deployment_processor.py", line 298, in create_deployment_resources
    latest_deploy_output = load_latest_deploy_output()
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\yuriy.shevchenko\AppData\Local\Programs\Python\Python311\Lib\site-packages\syndicate\core\build\bundle_processor.py", line 143, in load_latest_deploy_output
    raise AssertionError(
AssertionError: Deployment output file not found. It might be because the previous deployment failed. If this is the case deployment can be continued by using the command  'syndicate deploy --continue_deploy' or failed deployed resources can be removed with the command 'syndicate clean --rollback'
2024-04-21 22:06:06,536 [INFO] USER:Yuriy.Shevchenko project_state.py:117:get_remote LOG: Unsafely loaded project state file from S3 bucket. The retrieved object has type: dict
2024-04-21 22:06:06,536 [INFO] USER:Yuriy.Shevchenko project_state.py:122:get_remote LOG: Made ProjectState object from the dict loaded from S3 bucket
2024-04-21 22:06:07,109 [INFO] USER:Yuriy.Shevchenko sync_processor.py:53:sync_project_state LOG: Project state file has been successfully synced
